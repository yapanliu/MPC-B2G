# MPC-B2G Codes
## [Model predictive control for building loads connected with a residential distribution grid](https://doi.org/10.1016/j.apenergy.2018.08.051)
Aggregated control of electrical loads in a large cluster of buildings has been a challenge due to the complexity of the system involving generators, grid constraints, load serving entities complex load models, and people behavior. This paper introduces a novel load aggregation method in an electricity distribution system with Model Predictive Controlled (MPC) loads. This method closes the control loop from power generation to people behavior, resulting in a more stable and efficient integrated buildings-to-grid system. A behavior-driven price-based MPC is introduced for a residential building energy management system, which controls the air conditioner (AC), electric vehicle (EV), water heater, and battery energy storage system. A nodal pricing method is introduced representing power generation and distribution costs, which is mathematically proven to stabilize the system with MPC controlled loads. The method is tested in a 342-node residential building distribution network with 15,000 buildings which is inverse sampled from hundreds of actual smart meter data. The results show a 21% reduction in generation cost, 17% reduction in peak load, and reduced nodal voltage drop from the coordinated control system.

## [Nationwide Evaluation of Potential Energy Savings and Payback of Integrated Building and Battery Energy Storage System through Model Predictive Controls](https://doi.org/10.26868/25222708.2019.210368)
Building-integrated microgrids (BIMGs) are rising in popularity due to their flexibility in incorporating multiple distributed energy resources including renewable energy sources and battery energy storage systems (BESS) and their natural suitability for demand response. To date, there have been almost no studies about the effect of various climate, building type, and electricity prices on BESSâ€™s potential for peak load reduction and energy cost savings. In this study, all sixteen U.S. Department of Energy (DOE) commercial reference building types are simulated with weather data from eighty U.S. cities across all eight ASHRAE climate zones using model predictive control (MPC) algorithm and incorporating BESS and varying electricity price schemes for Intelligent Building to Battery (B2B) control. Results show that cities in colder climate zones can expect up to 3% greater cost and demand savings than in hotter climate zones; additionally, cities with time-of-use price scheme can expect up to 60% shorter payback period than those with tiered prices. 